1 Y=100 : REM DOWNSCREEN STARTING POS.
2 ON ERROR GOTO 600
10 REM  ___ ___ __  ____   _____ _____      __
20 REM | _ \ _ \  \/  \ \ / /_ _| __\ \    / /
30 REM |  _/  _/ |\/| |\ V / | || _| \ \/\/ / 
40 REM |_| |_| |_|  |_| \_/ |___|___| \_/\_/
50 REM 
60 REM By Eightbitswide  - Requires FabGL Terminal
70 REM
80 REM Written for Microsoft MBASIC to view .ppm files.
90 REM .ppm files must be in ASCII.
95 REM
100 PRINT CHR$(27)+"[2J"+CHR$(27)+"[H";
110 PRINT "MBASIC .PPM FILE VIEWER: BY EIGHTBITSWIDE":PRINT
120 PRINT "-----------------------------------------":PRINT: PRINT
130 PRINT ".PPM FILES MUST BE ASCII, EACH COLOR SEPERATED BY CR." : PRINT 
140 PRINT "GIMP IS A GOOD PROGRAM FOR PICTURE CONVERSION.": PRINT
145 PRINT "REQUIRES FABGL TERMINAL SET IN 512x384, 64 COLORS.":PRINT
150 PRINT :FILES "*.PPM"
160 PRINT :PRINT : PRINT "Pick a file: (or QUIT):";
170 LINE INPUT "-> ";C$
180 IF C$="quit" THEN END
190 IF C$="QUIT" THEN END
200 PRINT CHR$(27)+"[2J"+CHR$(27)+"[H";
210 OPEN "i",2,C$
220 INPUT #2,TY$
230 INPUT #2,DC$
240 INPUT #2,SZ$ : REM WE ARE ONLY CONCERNED WITH SZ
250 INPUT #2,NM$
300 REM DETERMINE WIDTH OF IMAGE
310 I=LEN(SZ$)
320 X=1
330 A$=MID$(SZ$,X,1) : REM <---LOOP
340 IF A$=" " THEN GOTO 400
350 B$=B$+A$
360 X=X+1
370 IF X>I THEN END
380 GOTO 330
400 REM
410 REM CALCULATE CENTER
420 YY=VAL(B$)
430 PS=512-YY
440 PS=PS/2
500 REM FETCH AND PRINT PICTURE
510 Y=Y+1
520 FOR X = 1+PS TO YY+PS
530 INPUT #2,RD$
540 INPUT #2,GR$
550 INPUT #2,BL$
560 PRINT CHR$(27)+"[H";
570 PRINT CHR$(27)+"_GPEN"+RD$+";"+GR$+";"+BL$+"$";
580 PRINT CHR$(27)+"_GPIXEL";X;Y;"$";
590 NEXT X
595 GOTO 500
600 REM CLOSE UP AND POSITION CURSOR
610 CLOSE #2
620 PRINT CHR$(27)+"_F0;40$";
630 PRINT CHR$(27)+"_GPEN255;255;255$";
640 END
M CLOSE UP AND POSITION CURSOR
610 CLOSE #2
620 PRINT CHR$(27)+"_F0;40$";
630 PRINT CHR$(27)+"_GPEN255;255;255$";
640 